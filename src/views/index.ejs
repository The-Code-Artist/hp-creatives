<!DOCTYPE html>
<html lang="en-za">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" type="image/png" href="img/favicon.ico" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />

    <title>HP Creatives</title>

    <meta
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"
      name="viewport"
    />
    <meta content="Marothi Mahlake" name="author" />
    <meta
      content="HP Creatives is a creative agency based in the west rand. We offer bespoke graphic design services, videography services, events related graphic design, copywriting and digital marketing as well."
      name="description"
    />
    <link rel="stylesheet" href="font-awesome/css/all.min.css" />
    <!--<link rel="stylesheet" href="font-awesome/css/fontawesome.min.css" />
        <link rel="stylesheet" href="font-awesome/css/solid.min.css" />
        <link rel="stylesheet" href="font-awesome/css/brands.min.css" />-->
    <!-- CSS Files -->
    <link href="css/bootstrap.min.css" rel="stylesheet" />
    <link href="css/material-kit.css" rel="stylesheet" />
    <!-- Fonts and icons -->
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/icon?family=Material+Icons"
    />
    <link
      rel="stylesheet"
      type="text/css"
      href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700"
    />

    <script src="https://www.google.com/recaptcha/api.js?render=6LeBeN0ZAAAAAIpw4ooGeFNqB3gd58f_zLwqrKTR"></script>

    <style>
      @media (max-width: 376) {
        #logo {
          margin: 0.5em;
        }
      }

      #logo {
        display: block;
        height: 76vh;
        margin: 1em;
        margin-left: auto;
        margin-right: auto;
        object-fit: contain;
        width: 100%;
      }

      footer a,
      footer a:visited {
        color: #f4c836;
      }

      footer a:hover {
        color: rgb(153, 127, 40);
        text-decoration: none;
      }
    </style>
  </head>

  <body>
    <!-- Navbar will come here -->
    <nav class="navbar navbar-fixed-top">
      <div class="container">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header">
          <button
            type="button"
            class="navbar-toggle"
            data-toggle="collapse"
            data-target="#navigation-example"
          >
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="/">
            <img
              src="img/Brand.png"
              alt="HP Creatives"
              style="width: 215px; height: auto; margin-top: auto; margin: auto"
            />
          </a>
        </div>

        <div class="collapse navbar-collapse" id="navigation-example">
          <ul class="nav navbar-nav navbar-right"></ul>
        </div>
      </div>
    </nav>
    <!-- end navbar -->

    <div class="wrapper">
      <!-- you can use the class main-raised if you want the main area to be as a page with shadows -->
      <div
        class="main container-fluid"
        style="margin-top: 70px; min-height: 90vh"
      >
        <div class="container" style="padding: 1em">
          <!-- here you can add your content -->
          <div class="row" style="height: 100%">
            <div
              class="col-lg-6 col-md-6 col-sm-12 col-xs-12"
              style="height: 100%"
            >
              <div class="clearfix"></div>

              <!-- Logo Large -->
              <div
                class="col-md-8 col-md-offset-1 text-center"
                style="
                  height: 90vh;
                  width: 100%;
                  white-space: nowrap;
                  margin: 1em 0;
                "
              >
                <a href="https://www.behance.net/hp_creatives" target="_blank">
                  <img
                    class="img-responsive"
                    id="logo"
                    src="img/HP-C.png"
                    alt="HPC Logo"
                  />
                </a>
              </div>
            </div>

            <div class="col-lg-6 col-md-6 col-sm-12 col-xs-12">
              <div class="col-md-offset-2 col-md-8">
                <form
                  id="contact-form"
                  action="."
                  class="form-horizontal"
                  method="post"
                >
                  <!-- Name Field -->
                  <div class="form-group">
                    <input
                      type="text"
                      class="form-control"
                      name="name"
                      id="name"
                      placeholder="Full Name"
                    />
                    <span id="name-error" class="text-danger"></span>
                  </div>

                  <!-- Email Field -->
                  <div class="form-group">
                    <input
                      type="email"
                      class="form-control"
                      name="email"
                      id="email"
                      placeholder="Email Address"
                    />
                    <span id="email-error" class="text-danger"></span>
                  </div>

                  <!-- Enquiry Field -->

                  <h5>What would you like to know about?</h5>
                  <div class="form-group">
                    <div class="radio">
                      <label>
                        <input type="radio" name="enquiry" value="Campaigns" />
                        Campaigns
                      </label>
                    </div>

                    <div class="radio">
                      <label>
                        <input
                          type="radio"
                          name="enquiry"
                          value="Event Identity"
                        />
                        Event Identity
                      </label>
                    </div>

                    <div class="radio">
                      <label>
                        <input
                          type="radio"
                          name="enquiry"
                          value="Videography"
                        />
                        Videography
                      </label>
                    </div>

                    <div class="radio">
                      <label>
                        <input
                          type="radio"
                          name="enquiry"
                          value="Illustrations"
                        />
                        Illustrations
                      </label>
                    </div>

                    <div class="radio">
                      <label>
                        <input type="radio" name="enquiry" value="Other" />
                        Other
                      </label>
                    </div>
                  </div>

                  <!-- Message Field -->
                  <div class="form-group">
                    <textarea
                      class="form-control"
                      placeholder="The message goes in here..."
                      id="message"
                      rows="14"
                    ></textarea>
                    <span id="message-error" class="text-danger"></span>
                  </div>

                  <!-- Submit Button -->
                  <div class="form-group">
                    <h4 style="font-size: 14pt; bottom: -4em">
                      <!-- Social Mediums -->
                      Follow Us&nbsp;
                      <a
                        href="https://www.facebook.com/hpcreativess/"
                        target="_blank"
                      >
                        <i class="fab fa-facebook"></i>
                      </a>
                      &nbsp;
                      <a
                        href="https://www.instagram.com/hp_creatives/"
                        target="_blank"
                      >
                        <i class="fab fa-instagram"></i>
                      </a>
                      &nbsp;
                      <a
                        href="https://www.twitter.com/hp_creatives/"
                        target="_blank"
                      >
                        <i class="fab fa-twitter-square"></i>
                      </a>
                      &nbsp;
                      <a
                        href="https://www.youtube.com/channel/UCfbS8hdCt_0CbyLsH-1Zoog"
                        target="_blank"
                      >
                        <i class="fab fa-youtube"></i>
                      </a>
                    </h4>

                    <div>
                      <!-- The Button -->
                      <button
                        type="submit"
                        id="btn-submit"
                        class="btn btn-primary pull-right"
                        style="top: -4.5em"
                      >
                        SEND
                      </button>
                    </div>

                    <!-- Loader -->
                    <div class="form-group">
                      <div
                        id="loader"
                        class="
                          col-lg-12 col-md-12 col-sm-12 col-xs-12
                          text-center
                        "
                        style="
                          text-align: center;
                          display: none;
                          margin-bottom: 0.2em;
                        "
                      >
                        <img
                          alt="Loading"
                          src="img/loader/loading.gif"
                          class="img-responsive"
                          style="
                            width: 20px;
                            height: auto;
                            margin-left: auto;
                            margin-right: auto;
                          "
                        />
                      </div>
                    </div>
                    <!-- Response message -->
                    <div class="row">
                      <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                        <div
                          id="feedback"
                          class="alert alert-success"
                          style="display: none"
                        ></div>
                      </div>
                    </div>
                  </div>
                </form>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Footer -->
    <footer
      class="footer"
      style="background-color: #582e6a; width: 100%; color: #f4c836"
    >
      <div class="container">
        <div class="copyright text-center"></div>
      </div>
    </footer>

    <!--   Core JS Files   -->
    <script src="js/jquery.min.js" type="text/javascript"></script>
    <script src="js/bootstrap.min.js" type="text/javascript"></script>
    <script src="js/material.min.js" type="text/javascript"></script>
    <!-- Control Center for Material Kit: activating the ripples, parallax effects, scripts from the example pages etc -->
    <script src="js/material-kit.js" type="text/javascript"></script>
    <script>
      $(document).ready(() => {
        document
          .getElementById("contact-form")
          .addEventListener("submit", runVerification);
        // Form fields.
        const nameField = $("#name");
        const emailField = $("#email");
        const enquiryField = $("enquiry");
        const messageField = $("#message");

        // Validation error elements.
        const nameError = $("#name-error");
        const emailError = $("#email-error");
        const messageError = $("#message-error");

        // This variable will be used to obtain the value of the selected radio button.
        let selectedEnquiryValue;

        // This boolean variable will be used to enforce the validity of the form.
        let isValid = false;

        function runVerification(e) {
          e.preventDefault();

          // Find the value of the selected radio button.
          for (i = 0; i < enquiryField.length; i++) {
            if (enquiryField[i].checked) {
              selectedEnquiryValue = enquiryField[i].value;
            }
          }
          validateName();
          validateEmail();
          validateMessage();
          
          if (isValid) {
            $("#loader").fadeIn();
            runCaptcha();
          }
          
        }

        function runCaptcha() {
          grecaptcha
            .execute("6LeBeN0ZAAAAAIpw4ooGeFNqB3gd58f_zLwqrKTR", {
              action: "",
            })
            .then(function (token) {
              const captcha = token;
              sendData(
                nameField.val(),
                emailField.val(),
                selectedEnquiryValue,
                messageField.val(),
                captcha
              );
            });
        }

        function sendData(name, email, enquiry, message, captcha) {
          const info = JSON.stringify({
            name: name,
            email: email,
            enquiry: enquiry,
            message: message,
            captcha: captcha,
          });

          fetch("/contact", {
            method: "POST",
            headers: {
              Accept: "application/json, text/plain, */*",
              "Content-type": "application/json",
            },
            body: info,
          })
            .then((res) => res.json())
            .then((data) => {
              $("#feedback").html(`<p>${data.msg}</p>`);
              $("#loader").fadeOut();
              $("#feedback").fadeIn();
              document.querySelector("#contact-form").reset();
            });
        }

        /** Validates the name. */
        function validateName() {
          try {
            if (/.{2}/.test(nameField.val()) == false) {
              throw "Please enter your name.";
            } else if (/([\D])/.test(nameField.val()) == false) {
              throw "A name must contain letters only.";
            } else {
              isValid = true;
              nameError.text("");
              nameError.hide();
            }
          } catch (msg) {
            isValid = false;
            nameError.text(msg);
            nameField.focus();
            nameField.select();
            nameError.show();
          }
        }

        /** Validates the email address. */
        function validateEmail() {
          var emailSyntax =
            /^[_\w\-]+(\.[_\w\-]+)*@[\w\-]+(\.[\w\-]+)*(\.[\D]{2,6})$/;
          try {
            if (/.{7}/.test(emailField.val()) == false) {
              throw "The email must contain 7 characters or more.";
            } else if (emailSyntax.test(emailField.val()) == false) {
              throw "Please enter a valid email address.";
            } else {
              isValid = true;
              emailError.text("");
              emailError.hide();
            }
          } catch (msg) {
            isValid = false;
            emailError.text(msg);
            emailField.focus();
            emailField.select();
            emailError.show();
          }
        }

        /** Validates the message field. */
        function validateMessage() {
          isValid = false;
          try {
            if (/.{20}/.test(messageField.val()) == false) {
              throw "The message must at least contain 20 characters.";
            } else {
              isValid = true;
              messageError.text("");
              messageError.hide();
            }
          } catch (msg) {
            isValid = false;
            messageError.text(msg);
            messageField.focus();
            messageField.select();
            messageError.show();
          }
        }
      });
    </script>
  </body>
</html>
